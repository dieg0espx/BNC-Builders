(function(c){typeof define=="function"&&define.amd?define(c):c()})(function(){"use strict";var St=Object.defineProperty;var Q=c=>{throw TypeError(c)};var It=(c,a,l)=>a in c?St(c,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):c[a]=l;var O=(c,a,l)=>It(c,typeof a!="symbol"?a+"":a,l),H=(c,a,l)=>a.has(c)||Q("Cannot "+l);var w=(c,a,l)=>(H(c,a,"read from private field"),l?l.call(c):a.get(c)),S=(c,a,l)=>a.has(c)?Q("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(c):a.set(c,l),y=(c,a,l,D)=>(H(c,a,"write to private field"),D?D.call(c,l):a.set(c,l),l),m=(c,a,l)=>(H(c,a,"access private method"),l);var g,I,b,P,f,U,Z,tt,A,et;function c(n){return n?encodeURIComponent(String(n)).replace(/['"()]/g,function(t){switch(t){case"'":return"%27";case'"':return"%22";case"(":return"%28";case")":return"%29";default:return t}}):""}function a(n){return n?decodeURIComponent(String(n).replace(/\+/g,"%20")):""}function l(n){return new Promise(t=>{setTimeout(t,n)})}function D(n){const t=n.target,e=t==null?void 0:t.closest("a"),i=(e==null?void 0:e.getAttribute("href"))||void 0,s=t==null?void 0:t.closest("button"),o=s==null?void 0:s.closest("form"),d=o==null?void 0:o.getAttribute("action"),u=(o==null?void 0:o.getAttribute("method"))==="post"||!1,h=e||s||t,E=d&&(o==null?void 0:o.getAttribute("data-search"))&&nt(o);return{selector:st(h).join(" "),href:i,post:u,search:E||void 0}}function nt(n){const t=n==null?void 0:n.getElementsByTagName("input");if(t){for(const e of t)if((e==null?void 0:e.getAttribute("type"))==="text"&&it(e))return e.value}}function it(n){return!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length))}function st(n){const t=ot(n),e=[];for(const i of t){let s;if(i.id)return e.unshift(`#${i.id}`),e;if(i.cls)s=`${i.name}.${i.cls}`;else if(i.name)s=i.name;else continue;const o=i.el.querySelectorAll(s);if(o.length>1){const d=Array.prototype.indexOf.call(o,i.el);d!==-1&&(s+=`:nth-child(${d+1})`)}e.unshift(s)}return e}function ot(n){const t=[];let e=n;for(;e&&e.parentNode&&e!==document.body&&e!==document.documentElement;){const i=e.getAttribute("id");if(i)return t.push({el:e,id:i}),t;const s=ct(e),o=(e.nodeName||"").toLowerCase();(s||o==="li"||!t.length)&&t.push({el:e,name:o,cls:s}),e=e.parentNode}return t}function ct(n){const t=(n.getAttribute("class")||"").trim();return t?t.replace(/(\s+)|([^\w-])/g,function(e,i,s){return i?".":s?`\\${s}`:""}):""}function rt(){const n=new Date,t=new Date(n.getFullYear(),0,1),e=new Date(n.getFullYear(),6,1);return Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())/60}function W(){const n=document.getElementsByTagName("a");for(const t of n){const e=t.getAttribute("href"),i=e&&/^tel:(.+)$/.exec(e);if(i){const s=at(i[1]);if(s&&s.length>=10)return s}}}function at(n){if(n)return n.includes(",")&&(n=n.split(",")[0]),n=n.replace(/\D+/g,""),n[0]==="1"&&n.length===11&&(n=n.substring(1)),n}function dt(){const n=document.getElementsByClassName("ui-track-version"),t=new Set;for(let e=0;e<n.length;e++){const i=n[e].getAttribute("id");i&&t.add(i)}return t.size?[...t]:void 0}function Y(){var t,e;let n;try{n=(e=(t=window.Process)==null?void 0:t.Phones)==null?void 0:e.call(t)}catch{}return n==null?void 0:n.split("|")}const lt=new Set(["_cldee","_gl","_hsenc","adct","adid","adposition","adsubid","bidmatchtype","cam","campaignid","cmp","creative","date_created","device","devicemodel","dicbo","dynamic_proxy","epik","esid","external_browser_redirect","fbclid","fccdbefkve","fccdbeve","furl","g","gad","gclid","hsa_acc","hsa_ad","hsa_cam","hsa_grp","hsa_kw","hsa_mt","hsa_net","hsa_src","hsa_tgt","hsa_ver","interestloc","keyword","keywordid","kw","li_fat_id","loc_interest_ms","loc_physical_ms","matchtype","mc_cid","mc_eid","ms","msclkid","nb","network","networktype","nx","oborigurl","physicalloc","pp","primary_serv","psafe_param","pub_cr_id","querystr","random","refpageviewid","rl_key","rl_site","rl_siteid","rl_sitelink","se_action","sppc","sppcadexid","sppcadid","sppccampaignid","sppckeywordid","ssp_iabi","targetid","tblci","tc","testmode","twclid","useyb","usps_mid","usps_sn","utm_brand","utm_campaign","utm_content","utm_medium","utm_scrub","utm_source","utm_term","vs_key","wbraid","gad_source"]);function $(n){let t;if(window.location.search){const e=new URL(window.location.href),i=new URLSearchParams,s=[...e.searchParams];for(const[d,u]of s){const h=d==null?void 0:d.toLowerCase();(!h||!lt.has(h))&&i.set(d,u)}const o=i.toString();o?t=`${window.location.pathname}?${o}#~${n}`:t=`${window.location.pathname}#~${n}`}else t=`#~${n}`;window.history.replaceState(void 0,"",t)}function T(){const n=window.location.hash;if((n==null?void 0:n.length)===38&&n[1]==="~")return n.substring(2)}function ut(n){return n.w!==void 0}function ft(n){return n.vd!==void 0}function ht(n){return n.t!==void 0}async function mt(n){const t=await p("ve",n);return t==null?void 0:t.result}async function M(n){const t=await p("ce",n);return t==null?void 0:t.result}async function gt(n){const t=await p("re",n);return t==null?void 0:t.result}async function wt(n){const t=await p("ue",n);return t==null?void 0:t.result}async function j(n){const t=await p("pe",n),e=t==null?void 0:t.result;return pt(n,e),e}function pt(n,t){if(t!=null&&t.vi&&n.vi){const e=document.getElementById(n.vi);if(e instanceof HTMLVideoElement){const i=e.sa;i&&(i.vvid=t.vi,i.vpid=t.vp)}}}async function V(n){const t=await p("pl",n);return t==null?void 0:t.result}let k;function _t(n){return k||(k=new Promise(t=>vt(n,t))),k}const yt=1e3*60*2;async function vt(n,t){var i;const e=performance.now();for(;performance.now()-e<yt;){const s=await p("in",n);if(typeof((i=s==null?void 0:s.result)==null?void 0:i.l)=="number"){t(s==null?void 0:s.result),k=void 0;return}await l(5e3)}console.error("Unable to establish legacy id."),t(void 0)}async function p(n,t){return await(await fetch("/sa.svc",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-SAP":n},body:JSON.stringify(t),keepalive:!0})).json()}const r={get:n=>{const t=document.cookie.match(`(^|;)\\s*${n}\\s*=\\s*([^;]+)`),e=t==null?void 0:t.pop();if(!e)return null;switch(e[0]){case"#":return+e.substring(1);case"!":return e==="!!";case":":return new Date(+e.substring(1));default:return a(e)}},set:(n,t,e=!1)=>{if(t===null||typeof t>"u"){r.delete(n);return}let i;typeof t=="number"?i=`#${t}`:typeof t=="boolean"?i=t?"!!":"!":t?t instanceof Date?i=`:${t.getTime()}`:typeof t=="string"?i=c(t):i=String(t):i="";let s;e?e instanceof Date||(s=new Date,typeof e=="number"?s.setDate(s.getDate()+e):s.setDate(s.getDate()+30)):s=null;const o=s?`; expires = ${s.toUTCString()}`:"";document.cookie=`${n}=${i}; path=/${o}`},delete:n=>{const t=new Date(0).toUTCString();document.cookie=`${n}=; path=/; expires=${t}`}},X=document.documentElement.getAttribute("data-sa"),v=X?decodeURIComponent(X):"",R=!document.documentElement.getAttribute("data-sd")&&!window.location.hostname.endsWith("scorpion.co"),F="_sa",q="sa_",N="vid_",z="sa_info",bt=24*60*60*1e3,x=class x{constructor(){S(this,f);S(this,g);O(this,"ready");S(this,I);S(this,b,!1);S(this,P,[]);this.ready=new Promise(e=>y(this,g,e)),m(this,f,Z).call(this)||m(this,f,A).call(this,!0),this._click=this._click.bind(this),this._play=this._play.bind(this),this._playing=this._playing.bind(this),window._sa_videoStart=this._play,window._sa_videoPlay=this._playing,window._sa_getHitId=()=>this.hidId,document.addEventListener("click",this._click,!0)}get vid(){return String(r.get(N)||"")||localStorage.getItem(N)||void 0}set vid(t){localStorage.setItem(N,t);const e=new Date;e.setFullYear(e.getFullYear()+1),r.set(N,t,e)}get sid(){const t=Number(localStorage.getItem(z));if(!t)return;const e=new Date().getTime()-bt;if(t<e)return;const i=r.get(q);return i?String(i):void 0}set sid(t){r.set(q,t),localStorage.setItem(z,String(new Date().getTime()))}get lid(){return+(r.get(F)||0)}set lid(t){r.set(F,t);try{const e=new CustomEvent("analytics.sessionId",{bubbles:!0,cancelable:!0,detail:{sessionId:t}});document.documentElement.dispatchEvent(e)}catch{}}get hidId(){return w(this,I)}set hid(t){y(this,I,t)}_click(t){const e=D(t),i=window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth||0,s=window.innerHeight||document.documentElement.offsetHeight||document.body.offsetHeight||0,o=Math.max(document.documentElement.scrollTop,document.body.scrollTop),d={s:this.sid||"",h:this.hidId||"",sa:v,pa:window.location.href,se:e.selector,w:i,hi:s,sc:o,x:t.pageX||t.clientX||0,y:t.pageY||t.clientY||0,r:e.href,po:e.post,sr:e.search,l:Number(r.get("L"))||0};if(d.s){M(d);return}else m(this,f,U).call(this,d)}_play(t,e,i,s,o,d){const u={v:e||void 0,s:this.sid||"",h:this.hidId||"",sa:v,pa:window.location.href,vi:t,vd:i,f:s,d:o,a:!!d,l:Number(r.get("L"))||0};u.s?j(u):m(this,f,U).call(this,u)}_playing(t,e,i,s){const o={vi:t,vp:e,sa:v,pa:window.location.href,t:i,d:s,l:Number(r.get("L"))||0};V(o)}};g=new WeakMap,I=new WeakMap,b=new WeakMap,P=new WeakMap,f=new WeakSet,U=function(t){w(this,P).push(t),w(this,b)||m(this,f,A).call(this)},Z=function(){if(!R||r.get("SPPC"))return!1;const t=this.sid,e=T();return e&&e!==t?(m(this,f,tt).call(this,e),!0):!1},tt=async function(t){var o,d;const e={...K(this.vid,this.sid),ri:t},i=await gt(e);if(!(i!=null&&i.s)){await m(this,f,A).call(this);return}if(this.vid=i.v,this.sid=i.s,this.hid=i.h,i.p){r.set("SPPC",i.p,30),r.set("PPCAD",i.a||null,30),r.set("PPCEX",i.x||null,30),r.set("PPCCMP",i.c||null,30),r.set("M_",i.m||null,30);try{await fetch(window.location.href)}catch{}try{(d=(o=window.Process)==null?void 0:o.Delayed)==null||d.call(o)}catch{}const u=W();if(u&&u!==e.p){const h={s:i.s,h:i.h,sa:v,pa:window.location.href,p:u,g:Y()};await wt(h)}}(r.get("SPPC")||r.get("M_"))&&i.s&&i.s!==T()&&$(i.s)},A=async function(t=!1){var d,u,h,E;const e=this.vid,i=this.sid,s=K(e,i);t&&R&&(s.pd||s.m)&&i&&$(i),y(this,b,!0);const o=await mt(s);if(y(this,b,!1),!(o!=null&&o.s)){(d=w(this,g))==null||d.call(this),y(this,g,void 0);return}if(o.s!==i&&(this.lid=0),this.vid=o.v,this.sid=o.s,this.hid=o.h,t&&R&&(s.pd||s.m)&&o.s&&o.s!==T()&&$(o.s),t)try{(h=(u=window.Process)==null?void 0:u.Delayed)==null||h.call(u)}catch{}if(!this.lid){const C={i:this.sid,sa:v,pa:window.location.href},_=await _t(C);if(!(_!=null&&_.l)||_.s!==o.s)return;this.lid=_.l}await m(this,f,et).call(this),(E=w(this,g))==null||E.call(this),y(this,g,void 0)},et=async function(){const t=this.sid,e=this.hidId;if(!t||!e)return;const i=[...w(this,P)];if(i.length){w(this,P).length=0;for(const s of i)ut(s)?(s.s=t,s.h=e,await M(s)):ft(s)?(s.s=t,s.h=e,await j(s)):ht(s)&&await V(s)}},O(x,"current",new x);let B=x;function K(n,t){const e=new URL(window.location.href),i=new Map,s=[...e.searchParams];for(const[L,G]of s){const J=L==null?void 0:L.toUpperCase();J&&G&&i.set(J,G)}const o=r.get("SPPC")||i.get("SPPC")||void 0,d=r.get("SEOR")||document.referrer,u=r.get("SEOK")||i.get("KEYWORD")||i.get("KEYWORDS")||void 0,h=window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth||0,E=window.innerHeight||document.documentElement.offsetHeight||document.body.offsetHeight||0,C=Number(r.get("PPCAD"))||Number(i.get("SPPCADID"))||void 0,_=Number(r.get("PPCEX"))||Number(i.get("SPPCADEXID"))||void 0,Pt=Number(r.get("PPCCMP"))||Number(i.get("SPPCCAMPAIGNID"))||void 0,Et=Number(r.get("M_"))||void 0;return{i:n,s:t,sa:v,pa:window.location.href,pd:o,re:d,k:u,w:h,hi:E,t:rt(),p:W(),a:C,x:_,c:Pt,l:Number(r.get("L"))||void 0,e:dt(),g:Y(),m:Et}}});
